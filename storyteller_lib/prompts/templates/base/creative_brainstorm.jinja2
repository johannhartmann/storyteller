{# Base template for creative brainstorming - English version #}
Generate creative ideas for {{ topic }}:

CONTEXT:
- Genre: {{ genre }}
- Tone: {{ tone }}
{% if idea_context %}
- Initial idea: {{ idea_context }}
{% endif %}

{% if scene_specifications %}
SCENE REQUIREMENTS:
- Chapter {{ scene_specifications.chapter_number }}, Scene {{ scene_specifications.scene_number }}
- Scene Type: {{ scene_specifications.scene_type }}
- Dramatic Purpose: {{ scene_specifications.dramatic_purpose }}
- Tension Level: {{ scene_specifications.tension_level }}/10

Scene Description: {{ scene_specifications.scene_description }}

{% if scene_specifications.plot_progressions %}
PLOT POINTS THAT MUST OCCUR:
{% for progression in scene_specifications.plot_progressions %}
- {{ progression }}
{% endfor %}
{% endif %}

{% if scene_specifications.required_characters %}
CHARACTERS WHO MUST APPEAR:
{% for character in scene_specifications.required_characters %}
- {{ character }}
{% endfor %}
{% endif %}

{% if scene_specifications.character_learns %}
CHARACTER DEVELOPMENTS:
{% for learning in scene_specifications.character_learns %}
- {{ learning }}
{% endfor %}
{% endif %}

{% if scene_specifications.forbidden_repetitions %}
AVOID REPEATING:
{% for repetition in scene_specifications.forbidden_repetitions %}
- {{ repetition }}
{% endfor %}
{% endif %}

{% if scene_specifications.active_plot_threads %}
ACTIVE PLOT THREADS:
{% for thread in scene_specifications.active_plot_threads[:3] %}
- {{ thread.name }}: {{ thread.get('last_development', thread.get('description', 'No development yet')) }}
{% endfor %}
{% endif %}
{% endif %}

{% if chapter_outline %}
CHAPTER CONTEXT:
{{ chapter_outline }}
{% endif %}

{% if constraints %}
CONSTRAINTS:
{% for constraint in constraints %}
- {{ constraint }}
{% endfor %}
{% endif %}

{% if avoid_elements %}
ELEMENTS TO AVOID:
{% for element in avoid_elements %}
- {{ element }}
{% endfor %}
{% endif %}

BRAINSTORMING REQUIREMENTS:
Generate {{ num_ideas | default(3) }} distinct creative ideas that:
1. Are original and engaging
2. Fit the {{ genre }} genre conventions
3. Match the {{ tone }} tone
4. Feel fresh and unexpected
5. Could enhance reader engagement
{% if scene_specifications %}
6. Accomplish all required plot progressions
7. Include all required characters naturally
8. Advance the specific dramatic purpose of this scene
{% endif %}

{% if idea_types %}
TYPES OF IDEAS TO GENERATE:
{% for type in idea_types %}
- {{ type }}
{% endfor %}
{% endif %}

For each idea, provide:
- title: A clear, concise title for the idea
- description: A detailed description (2-3 sentences)
- enhancement_value: How this enhances the story
- challenges: Potential challenges or considerations  
- fit_score: A score from 1-10 for how well it fits the context
{% if scene_specifications %}
Additionally explain:
- How it accomplishes the required plot progressions
- How it naturally includes the required characters
{% endif %}

Then select the best idea as your recommended_idea and provide a rationale for why it's the best choice.

{% if evaluation_criteria %}
EVALUATION CRITERIA:
Consider these factors when generating ideas:
{% for criterion in evaluation_criteria %}
- {{ criterion }}
{% endfor %}
{% endif %}

Be bold and creative while maintaining coherence with the established story elements{% if scene_specifications %} and ensuring all scene requirements are met{% endif %}.